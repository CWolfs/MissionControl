(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{225:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"rightToc",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(2),r=n(6),o=(n(0),n(256)),c={id:"overrides",title:"Overrides",sidebar_label:"Overrides"},i=[{value:"Override Structure",id:"override-structure",children:[{value:"Top level",id:"top-level",children:[]},{value:"Overrides",id:"overrides",children:[]}]}],l={id:"contract-builder-api/overrides",title:"Overrides",description:"When making a custom contract type, ideally you want to reuse as much logic as possible between the maps your custom contract type is used on. All common logic to build and power your custom contract type is in the `common.jsonc` file. See [Structure](../contract-builder/structure.md) for more information on the `common.jsonc` format).",source:"@site/docs\\contract-builder-api\\overrides.md",permalink:"/docs/contract-builder-api/overrides",sidebar_label:"Overrides",sidebar:"docs",previous:{title:"AI Orders",permalink:"/docs/contract-builder-api/ai-orders"},next:{title:"Plots",permalink:"/docs/contract-builder-api/plots"}},b={rightToc:i,metadata:l};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"When making a custom contract type, ideally you want to reuse as much logic as possible between the maps your custom contract type is used on. All common logic to build and power your custom contract type is in the ",Object(o.b)("inlineCode",{parentName:"p"},"common.jsonc")," file. See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/contract-builder/structure"}),"Structure")," for more information on the ",Object(o.b)("inlineCode",{parentName:"p"},"common.jsonc")," format)."),Object(o.b)("p",null,"As much as you can reuse, there will always be bits of your contract type that are map specific and need to be set for the specific map. These are mostly things like:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Positions (Spawns, turrets, regions etc)"),Object(o.b)("li",{parentName:"ul"},"Map boundary (Position and size)"),Object(o.b)("li",{parentName:"ul"},"Plots (Which plots are enabled)"),Object(o.b)("li",{parentName:"ul"},"...Any other map-specific variation for your custom contract type you wish to change")),Object(o.b)("p",null,"The override files look different to the ",Object(o.b)("inlineCode",{parentName:"p"},"common.jsonc")," file structure. It uses the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.newtonsoft.com/json/help/html/QueryJsonSelectTokenJsonPath.htm"}),"Json.NET query/select system")," system to select parts of your ",Object(o.b)("inlineCode",{parentName:"p"},"common.jsonc")," and change the data with newly specified data."),Object(o.b)("p",null,"A good way to learn is to open up the Mission Control mod folder and read the files in ",Object(o.b)("inlineCode",{parentName:"p"},"MissionControl/contractTypeBuilds/(ContactType)"),"."),Object(o.b)("p",null,"The naming convention for override files is freeform, however, MissionControl uses: ",Object(o.b)("inlineCode",{parentName:"p"},"mapname_descriptivevariation"),", for example ",Object(o.b)("inlineCode",{parentName:"p"},"deathvalley_desert_open_area")," where the map is ",Object(o.b)("inlineCode",{parentName:"p"},"mapArena_deathValley_aDes")," and this override limits the contract type to take place in the open area of that map. You can have multiple overrides for the same map and contract type combination as long as a unique 'encounter layer' is created per variation."),Object(o.b)("h2",{id:"override-structure"},"Override Structure"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'// This file overrides the contract type \'common.jsonc\' file with map specific values (such as locations and rotations)\n{\n  "EncounterLayerId": "mapStory_StoryEncounter3_mMoon.5f862402-45c0-495c-9fb2-604dae9a2ad6",\n  "Overrides": [\n    {\n      "Path": "Chunks[?(@.Name == \'Chunk_PlayerLance\')].Children[?(@.Name == \'Spawner_PlayerLance\')]",\n      "Action": "ObjectMerge",\n      "Value": {\n        "Name": "Spawner_PlayerLance",\n        "Position": {\n          "Type": "World",\n          "Value": { "x": -300, "y": 140, "z": 20 }\n        },\n        "Rotation": {\n          "Type": "World",\n          "Value": { "x": 0, "y": 30, "z": 0 }\n        }\n      }\n    },\n    {\n      "Path": "Chunks[?(@.Name == \'Chunk_DestroyWholeLance\')].Children[?(@.Name == \'Lance_Enemy_OpposingForce\')]",\n      "Action": "ObjectMerge",\n      "Value": {\n        "Name": "Lance_Enemy_OpposingForce",\n        "Position": {\n          "Type": "World",\n          "Value": { "x": 230, "y": 150, "z": 420 }\n        },\n        "Rotation": {\n          "Type": "World",\n          "Value": { "x": 0, "y": 270, "z": 0 }\n        }\n      }\n    },\n    {\n      "Path": "Chunks[?(@.Name == \'Chunk_EncounterBoundary\')].Children[?(@.Name == \'EncounterBoundaryRect\')]",\n      "Action": "ObjectMerge",\n      "Value": {\n        "Name": "EncounterBoundaryRect",\n        "Position": {\n          "Type": "World",\n          "Value": { "x": 15, "y": 50, "z": 450 }\n        },\n        "Width": 900,\n        "Length": 1024\n      }\n    }\n  ]\n}\n')),Object(o.b)("h3",{id:"top-level"},"Top level"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Property"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Default"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Details"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"EncounterLayerId"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"true"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"ID of the encounter layer (contract type + map combination) you wish to override. ",Object(o.b)("br",null),Object(o.b)("br",null)," You find this from the encounter layers you created as mentioned ",Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"/docs/contract-builder/setup"}),"in the set up")," or on existing modder created encounter layers found in ",Object(o.b)("inlineCode",{parentName:"td"},"MissionControl/overrides/encounterLayers/(ContractType)")," or elsewhere defined. ",Object(o.b)("br",null),Object(o.b)("br",null)," The format is always ",Object(o.b)("inlineCode",{parentName:"td"},"(map name).(uuid)"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Overrides"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"true"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"List of override operations to perform to override data")))),Object(o.b)("h3",{id:"overrides"},"Overrides"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Property"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Default"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Details"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Path"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"true"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"https://www.newtonsoft.com/json/help/html/QueryJsonSelectTokenJsonPath.htm"}),"Json.NET query/select system")," path naviagion method. ",Object(o.b)("br",null),Object(o.b)("br",null),"A good tip is to review existing overrides and copy their structure.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Action"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"true"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This defines the action to perform on the selected JSON property.",Object(o.b)("br",null),Object(o.b)("br",null),"Available actions are: ",Object(o.b)("inlineCode",{parentName:"td"},"Replace"),", ",Object(o.b)("inlineCode",{parentName:"td"},"Remove"),", ",Object(o.b)("inlineCode",{parentName:"td"},"ObjectMerge"),". Mostly ",Object(o.b)("inlineCode",{parentName:"td"},"ObjectMerge")," is used.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Value"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"true"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This defines the new JSON, or value, you wish to use if you selected ",Object(o.b)("inlineCode",{parentName:"td"},"Replace")," or ",Object(o.b)("inlineCode",{parentName:"td"},"ObjectMerge")," actions")))))}s.isMDXComponent=!0},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(0),r=n.n(a),o=r.a.createContext({}),c=function(e){var t=r.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},i=function(e){var t=c(e.components);return r.a.createElement(o.Provider,{value:t},e.children)};var l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),s=c(n),u=a,p=s[i+"."+u]||s[u]||l[u]||o;return n?r.a.createElement(p,Object.assign({},{ref:t},b,{components:n})):r.a.createElement(p,Object.assign({},{ref:t},b))}));function s(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var s=2;s<o;s++)c[s]=n[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);